function ret = territory(board)
    mask =  [0,1,0;
             1,0,1;
             0,1,0]
    ret = (conv2(board, mask, 'same') == 4)
endfunction

%!test
%! board = [1,0,1,0;
%!          0,1,0,1;
%!          1,0,1,0;
%!          0,1,0,1];
%! assert(territory(board) == [0,0,0,0;
%!                             0,0,1,0;
%!                             0,1,0,0;
%!                             0,0,0,0]);

%!test
%! board = [1,1,1,0;
%!          0,1,0,1;
%!          1,0,1,0;
%!          0,1,0,1];
%! assert(territory(board) == [0,0,0,0;
%!                             0,0,1,0;
%!                             0,1,0,0;
%!                             0,0,0,0]);

%!test
%! board = [1,0,1,0, 1,0,1,0;
%!          0,1,0,1, 0,1,0,1];
%! assert(territory(board) == zeros(2,8))

%!test
%! board = [1,0,1,0,1,0,1,0;
%!          0,1,0,1,0,1,0,1;
%!          1,0,1,0,1,0,1,0;
%!          1,0,1,0,1,1,1,0];
%! assert(territory(board) == [0,0,0,0,0,0,0,0;
%!                             0,0,1,0,1,0,1,0;
%!                             0,0,0,0,0,1,0,0;
%!                             0,0,0,0,0,0,0,0]);
